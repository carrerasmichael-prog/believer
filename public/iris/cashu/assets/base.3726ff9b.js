import{a as i,r as s,u as a}from"./token.aedbecc1.js";import"./index.f0702a55.js";import"./format.054b8074.js";function r(t){const e=document.createElement("textarea");e.value=t,e.contentEditable="true",e.style.position="fixed";const o=()=>{};i(o),document.body.appendChild(e),e.focus(),e.select();const n=document.execCommand("copy");return e.remove(),s(o),n}function l(t){return navigator.clipboard!==void 0?navigator.clipboard.writeText(t):new Promise((e,o)=>{const n=r(t);n?e(!0):o(n)})}window.LOCALE="en";window.windowMixin={data:function(){return{g:{offline:!navigator.onLine,visibleDrawer:!1,extensions:[],user:null,wallet:null,payments:[],allowedThemes:null}}},methods:{changeColor:function(t){document.body.setAttribute("data-theme",t),this.$q.localStorage.set("cashu.theme",t)},toggleDarkMode:function(){this.$q.dark.toggle(),this.$q.localStorage.set("cashu.darkMode",this.$q.dark.isActive)},copyText:function(t,e,o){let n=this.$q.notify;l(t).then(function(){n({message:e||"Copied to clipboard!",position:o||"bottom"})})},formatCurrency:function(t,e,o=!1){return e==null&&(e="sat"),a().hideBalance&&!o?"****":e=="sat"?this.formatSat(t):e=="msat"?this.fromMsat(t):(e=="usd"&&(t=t/100),e=="eur"&&(t=t/100),new Intl.NumberFormat(window.LOCALE,{style:"currency",currency:e}).format(t))},formatSat:function(t){return t=parseInt(t),new Intl.NumberFormat(window.LOCALE).format(t)+" sat"},fromMsat:function(t){return t=parseInt(t),new Intl.NumberFormat(window.LOCALE).format(t)+" msat"},notifyApiError:function(t){var e={400:"warning",401:"warning",500:"negative"};this.$q.notify({timeout:5e3,type:e[t.response.status]||"warning",message:t.message||t.response.data.message||t.response.data.detail||null,caption:[t.response.status," ",t.response.statusText].join("").toUpperCase()||null,icon:null})},notifySuccess:async function(t,e="top"){this.$q.notify({timeout:5e3,type:"positive",message:t,position:e,progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyRefreshed:async function(t,e="top"){this.$q.notify({timeout:500,type:"positive",message:t,position:e,actions:[{color:"white",handler:()=>{}}]})},notifyError:async function(t,e=null){this.$q.notify({color:"red",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyWarning:async function(t,e=null,o=5e3){this.$q.notify({timeout:o,type:"warning",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"black",handler:()=>{}}]})},notify:async function(t,e="null",o="top",n=null,c=null){this.$q.notify({timeout:5e3,type:"nuill",color:"grey",message:t,caption:null,position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})}},created:function(){this.$q.localStorage.getItem("cashu.darkMode")==!0||this.$q.localStorage.getItem("cashu.darkMode")==!1?this.$q.dark.set(this.$q.localStorage.getItem("cashu.darkMode")):this.$q.dark.set(!0),this.g.allowedThemes=window.allowedThemes??["classic"],addEventListener("offline",t=>{this.g.offline=!0}),addEventListener("online",t=>{this.g.offline=!1}),this.$q.localStorage.getItem("cashu.theme")?document.body.setAttribute("data-theme",this.$q.localStorage.getItem("cashu.theme")):this.changeColor("monochrome")}};
