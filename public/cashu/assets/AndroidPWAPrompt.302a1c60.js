import{l as he,c as E,m as ge,p as _e,q as V,t as j,y as G,A as R,z as H,r as K,E as p,w as k,f as U,k as m,Y as X,a_ as Pe,I as Y,n as we,a$ as ye,B as ne,ak as xe,aC as Ce,o as oe,F as ae,aj as J,H as Ae,b0 as be,X as N,ac as Se,j as re,K as ie,L as D,M as se,O as le,W as ue,a5 as C,T as F,Q as z,R as ce,S as de,a3 as ve,a4 as pe}from"./index.916cb52e.js";import{u as Ie,a as qe}from"./QItem.18ca9374.js";import{g as Z,s as ee}from"./touch.9135741d.js";import{c as $e}from"./selection.7b8f2356.js";function ke(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,l)=>{const r=parseFloat(i);r&&(n[l]=r)}),n}var Te=he({name:"touch-swipe",beforeMount(e,{value:n,arg:i,modifiers:l}){if(l.mouse!==!0&&E.has.touch!==!0)return;const r=l.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:ke(i),direction:Z(l),noop:ge,mouseStart(a){ee(a,t)&&_e(a)&&(V(t,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(ee(a,t)){const s=a.target;V(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,s){E.is.firefox===!0&&j(e,!0);const h=G(a);t.event={x:h.left,y:h.top,time:Date.now(),mouse:s===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){R(a);return}const s=Date.now()-t.event.time;if(s===0)return;const h=G(a),g=h.left-t.event.x,u=Math.abs(g),f=h.top-t.event.y,d=Math.abs(f);if(t.event.mouse!==!0){if(u<t.sensitivity[1]&&d<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(u<t.sensitivity[2]&&d<t.sensitivity[2])return;const _=u/s,w=d/s;t.direction.vertical===!0&&u<d&&u<100&&w>t.sensitivity[0]&&(t.event.dir=f<0?"up":"down"),t.direction.horizontal===!0&&u>d&&d<100&&_>t.sensitivity[0]&&(t.event.dir=g<0?"left":"right"),t.direction.up===!0&&u<d&&f<0&&u<100&&w>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&u<d&&f>0&&u<100&&w>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&u>d&&g<0&&d<100&&_>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&u>d&&g>0&&d<100&&_>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(R(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),$e(),t.styleCleanup=I=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const y=()=>{document.body.classList.remove("no-pointer-events--children")};I===!0?setTimeout(y,50):y()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:s,distance:{x:u,y:d}})):t.end(a)},end(a){t.event!==void 0&&(H(t,"temp"),E.is.firefox===!0&&j(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&R(a),t.event=void 0)}};if(e.__qtouchswipe=t,l.mouse===!0){const a=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";V(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}E.has.touch===!0&&V(t,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchswipe;i!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&i.end(),i.handler=n.value),i.direction=Z(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(H(n,"main"),H(n,"temp"),E.is.firefox===!0&&j(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function We(){let e=Object.create(null);return{getCache:(n,i)=>e[n]===void 0?e[n]=typeof i=="function"?i():i:e[n],setCache(n,i){e[n]=i},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const Be={name:{required:!0},disable:Boolean},te={setup(e,{slots:n}){return()=>m("div",{class:"q-panel scroll",role:"tabpanel"},Y(n.default))}},Ee={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Me=["update:modelValue","beforeTransition","transition"];function Ne(){const{props:e,emit:n,proxy:i}=U(),{getCache:l}=We();let r,t;const a=K(null),s=K(null);function h(o){const c=e.vertical===!0?"up":"left";x((i.$q.lang.rtl===!0?-1:1)*(o.direction===c?1:-1))}const g=p(()=>[[Te,h,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),u=p(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),f=p(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),d=p(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=p(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),w=p(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),I=p(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);k(()=>e.modelValue,(o,c)=>{const P=A(o)===!0?q(o):-1;t!==!0&&$(P===-1?0:P<q(c)?-1:1),a.value!==P&&(a.value=P,n("beforeTransition",o,c),we(()=>{n("transition",o,c)}))});function y(){x(1)}function T(){x(-1)}function O(o){n("update:modelValue",o)}function A(o){return o!=null&&o!==""}function q(o){return r.findIndex(c=>c.props.name===o&&c.props.disable!==""&&c.props.disable!==!0)}function Q(){return r.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function $(o){const c=o!==0&&e.animated===!0&&a.value!==-1?"q-transition--"+(o===-1?u.value:f.value):null;s.value!==c&&(s.value=c)}function x(o,c=a.value){let P=c+o;for(;P!==-1&&P<r.length;){const S=r[P];if(S!==void 0&&S.props.disable!==""&&S.props.disable!==!0){$(o),t=!0,n("update:modelValue",S.props.name),setTimeout(()=>{t=!1});return}P+=o}e.infinite===!0&&r.length!==0&&c!==-1&&c!==r.length&&x(o,o===-1?r.length:-1)}function W(){const o=q(e.modelValue);return a.value!==o&&(a.value=o),!0}function L(){const o=A(e.modelValue)===!0&&W()&&r[a.value];return e.keepAlive===!0?[m(ye,w.value,[m(I.value===!0?l(_.value,()=>({...te,name:_.value})):te,{key:_.value,style:d.value},()=>o)])]:[m("div",{class:"q-panel scroll",style:d.value,key:_.value,role:"tabpanel"},[o])]}function v(){if(r.length!==0)return e.animated===!0?[m(X,{name:s.value},L)]:L()}function b(o){return r=Pe(Y(o.default,[])).filter(c=>c.props!==null&&c.props.slot===void 0&&A(c.props.name)===!0),r.length}function B(){return r}return Object.assign(i,{next:y,previous:T,goTo:O}),{panelIndex:a,panelDirectives:g,updatePanelsList:b,updatePanelIndex:W,getPanelContent:v,getEnabledPanels:Q,getPanels:B,isValidPanelName:A,keepAliveProps:w,needsUniqueKeepAliveWrapper:I,goToPanelByOffset:x,goToPanel:O,nextPanel:y,previousPanel:T}}var at=ne({name:"QCarouselSlide",props:{...Be,imgSrc:String},setup(e,{slots:n}){const i=p(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>m("div",{class:"q-carousel__slide",style:i.value},Y(n.default))}});let M=0;const Oe={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Le=["update:fullscreen","fullscreen"];function Ve(){const e=U(),{props:n,emit:i,proxy:l}=e;let r,t,a;const s=K(!1);xe(e)===!0&&k(()=>l.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&u()}),k(()=>n.fullscreen,f=>{s.value!==f&&h()}),k(s,f=>{i("update:fullscreen",f),i("fullscreen",f)});function h(){s.value===!0?u():g()}function g(){s.value!==!0&&(s.value=!0,a=l.$el.parentNode,a.replaceChild(t,l.$el),document.body.appendChild(l.$el),M++,M===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:u},J.add(r))}function u(){s.value===!0&&(r!==void 0&&(J.remove(r),r=void 0),a.replaceChild(l.$el,t),s.value=!1,M=Math.max(0,M-1),M===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return Ce(()=>{t=document.createElement("span")}),oe(()=>{n.fullscreen===!0&&g()}),ae(u),Object.assign(l,{toggleFullscreen:h,setFullscreen:g,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:h}}const De=["top","right","bottom","left"],Fe=["regular","flat","outline","push","unelevated"];var rt=ne({name:"QCarousel",props:{...Ie,...Ee,...Oe,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Fe.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>De.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Le,...Me],setup(e,{slots:n}){const{proxy:{$q:i}}=U(),l=qe(e,i);let r=null,t;const{updatePanelsList:a,getPanelContent:s,panelDirectives:h,goToPanel:g,previousPanel:u,nextPanel:f,getEnabledPanels:d,panelIndex:_}=Ne(),{inFullscreen:w}=Ve(),I=p(()=>w.value!==!0&&e.height!==void 0?{height:e.height}:{}),y=p(()=>e.vertical===!0?"vertical":"horizontal"),T=p(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),O=p(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(w.value===!0?" fullscreen":"")+(l.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${y.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${T.value}`:"")),A=p(()=>{const v=[e.prevIcon||i.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||i.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&i.lang.rtl===!0?v.reverse():v}),q=p(()=>e.navigationIcon||i.iconSet.carousel.navigationIcon),Q=p(()=>e.navigationActiveIcon||q.value),$=p(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));k(()=>e.modelValue,()=>{e.autoplay&&x()}),k(()=>e.autoplay,v=>{v?x():r!==null&&(clearTimeout(r),r=null)});function x(){const v=be(e.autoplay)===!0?Math.abs(e.autoplay):5e3;r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,v>=0?f():u()},v)}oe(()=>{e.autoplay&&x()}),ae(()=>{r!==null&&clearTimeout(r)});function W(v,b){return m("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${v} q-carousel__navigation--${T.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[m("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},d().map(b))])}function L(){const v=[];if(e.navigation===!0){const b=n["navigation-icon"]!==void 0?n["navigation-icon"]:o=>m(N,{key:"nav"+o.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${o.active===!0?"":"in"}active`,...o.btnProps,onClick:o.onClick}),B=t-1;v.push(W("buttons",(o,c)=>{const P=o.props.name,S=_.value===c;return b({index:c,maxIndex:B,name:P,active:S,btnProps:{icon:S===!0?Q.value:q.value,size:"sm",...$.value},onClick:()=>{g(P)}})}))}else if(e.thumbnails===!0){const b=e.controlColor!==void 0?` text-${e.controlColor}`:"";v.push(W("thumbnails",B=>{const o=B.props;return m("img",{key:"tmb#"+o.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${o.name===e.modelValue?"":"in"}active`+b,src:o.imgSrc||o["img-src"],onClick:()=>{g(o.name)}})}))}return e.arrows===!0&&_.value>=0&&((e.infinite===!0||_.value>0)&&v.push(m("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${y.value} absolute flex flex-center`},[m(N,{icon:A.value[0],...$.value,onClick:u})])),(e.infinite===!0||_.value<t-1)&&v.push(m("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${y.value} absolute flex flex-center`},[m(N,{icon:A.value[1],...$.value,onClick:f})]))),Se(n.control,v)}return()=>(t=a(n),m("div",{class:O.value,style:I.value},[Ae("div",{class:"q-carousel__slides-container"},s(),"sl-cont",e.swipeable,()=>h.value)].concat(L())))}});const ze=re({name:"iOSPWAPrompt",mixins:[windowMixin],props:{},data:function(){return{showIosPWAPromptLocal:localStorage.getItem("cashu.ui.showIosPWAPrompt")!="seen",showIosPWAPrompt:!1}},mounted(){this.showIosPWAPromptLocal&&this.isiOsSafari()&&!this.isInStandaloneMode()&&(this.showIosPWAPrompt=!0)},watch:{},computed:{},methods:{closePrompt(){localStorage.setItem("cashu.ui.showIosPWAPrompt","seen"),this.showIosPWAPrompt=!1},isiOsSafari(){const e=window.navigator.userAgent.toLowerCase();return/iphone|ipod/.test(e)&&/safari/.test(e)},isInStandaloneMode(){return"standalone"in window.navigator&&window.navigator.standalone}}}),me=e=>(ve("data-v-371778e1"),e=e(),pe(),e),Qe={key:0,class:"pwa-prompt q-pa-md q-mx-auto text-center"},je={class:"pwa-prompt-content"},Re=me(()=>C("strong",null,"Add to Home Screen",-1)),He=me(()=>C("div",{class:"pwa-prompt-arrow"},null,-1));function Ke(e,n,i,l,r,t){return D(),se(X,{"enter-active-class":"animated fadeInUp"},{default:le(()=>[e.showIosPWAPrompt?(D(),ue("div",Qe,[C("div",je,[C("span",null,[F("Tap "),z(ce,{name:"ios_share",size:"sm"}),F(" and "),Re]),z(N,{flat:"",icon:"close",onClick:e.closePrompt,size:"sm",class:"close-btn q-px-sm"},null,8,["onClick"])]),He])):de("",!0)]),_:1})}var it=ie(ze,[["render",Ke],["__scopeId","data-v-371778e1"]]);const Ue=re({name:"AndroidPWAPrompt",data(){return{showAndroidPWAPromptLocal:localStorage.getItem("cashu.ui.showAndroidPWAPrompt")!="seen",showAndroidPWAPrompt:!1}},mounted(){this.showAndroidPWAPromptLocal&&this.isChromeOnAndroid()&&!this.isInStandaloneMode()&&(this.showAndroidPWAPrompt=!0)},methods:{closePrompt(){localStorage.setItem("cashu.ui.showAndroidPWAPrompt","seen"),this.showAndroidPWAPrompt=!1},isChromeOnAndroid(){const e=navigator.userAgent.toLowerCase(),n=/android/.test(e),i=/chrome/.test(e)&&!/edge|edg|opr|opera/.test(e);return n&&i},isInStandaloneMode(){return window.matchMedia("(display-mode: standalone)").matches}}}),fe=e=>(ve("data-v-06af58bd"),e=e(),pe(),e),Xe={key:0,class:"pwa-prompt android-pwa-prompt q-pa-md text-center"},Ye={class:"pwa-prompt-content"},Ge=fe(()=>C("strong",null,"Add to Home screen",-1)),Je=fe(()=>C("div",{class:"pwa-prompt-arrow"},null,-1));function Ze(e,n,i,l,r,t){return D(),se(X,{appear:"","enter-active-class":"animated fadeInDown"},{default:le(()=>[e.showAndroidPWAPrompt?(D(),ue("div",Xe,[C("div",Ye,[C("span",null,[F(" Tap "),z(ce,{name:"more_vert",size:"sm"}),F(" and "),Ge]),z(N,{flat:"",icon:"close",onClick:e.closePrompt,size:"sm",class:"close-btn q-px-sm"},null,8,["onClick"])]),Je])):de("",!0)]),_:1})}var st=ie(Ue,[["render",Ze],["__scopeId","data-v-06af58bd"]]);export{st as A,rt as Q,Ee as a,Me as b,Ne as c,at as d,it as i,Be as u};
